{
  "version": 3,
  "sources": ["../source/tools.ts", "../source/display.ts", "../source/mark.ts", "../source/poly.ts", "../source/html.ts", "../source/render.ts", "../source/context.ts", "../source/dash.ts", "../source/events.ts", "../source/component.ts", "../source/define.ts", "../source/router.ts", "../source/index.ts"],
  "sourcesContent": ["// https://html.spec.whatwg.org/multipage/indices.html#attributes-1\n// https://www.w3.org/TR/REC-html40/index/attributes.html\nconst links = [\n    'src',\n    'href',\n    'data',\n    'action',\n    'srcdoc',\n    'xlink:href',\n    'cite',\n    'formaction',\n    'ping',\n    'poster',\n    'background',\n    'classid',\n    'codebase',\n    'longdesc',\n    'profile',\n    'usemap',\n    'icon',\n    'manifest',\n    'archive'\n];\n\n// https://html.spec.whatwg.org/multipage/indices.html#attributes-1\nconst bools = [\n    'hidden',\n    'allowfullscreen',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'inert',\n    'ismap',\n    'itemscope',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected',\n];\n\nexport const isLink = function (data: string): boolean {\n    return data && typeof data === 'string' ?\n        links.indexOf(data) !== -1 :\n        false;\n};\n\nexport const isBool = function (data: string): boolean {\n    return data && typeof data === 'string' ?\n        bools.indexOf(data) !== -1 :\n        false;\n};\n\nconst patternValue = /^value$/i;\nexport const isValue = function (data: string): boolean {\n    return data && typeof data === 'string' ?\n        patternValue.test(data) :\n        false;\n};\n\nconst patternOn = /^on/i;\nexport const hasOn = function (data: string): boolean {\n    return data && typeof data === 'string' ?\n        patternOn.test(data) :\n        false;\n};\n\nexport const sliceOn = function (data: string): string {\n    return data && typeof data === 'string' ?\n        data?.toLowerCase()?.slice(2) :\n        '';\n};\n\nexport const isMarker = function (data: string, marker: string): boolean {\n    return data && typeof data === 'string' ?\n        data.toLowerCase() === marker.toLowerCase() :\n        false;\n};\n\nexport const hasMarker = function (data: string, marker: string): boolean {\n    return data && typeof data === 'string' ?\n        data.toLowerCase().indexOf(marker.toLowerCase()) !== -1 :\n        false;\n};\n\nexport const includes = function (item: string | Array<any>, search: any) {\n    return item.indexOf(search) !== -1;\n};\n\n// const safePattern = /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i;\nconst safePattern = /^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\\/?#]*(?:[\\/?#]|$))/i;\nexport const dangerousLink = function (data: string) {\n    if (data === '') return false;\n    if (typeof data !== 'string') return false;\n    return safePattern.test(data) ? false : true;\n};\n\nexport const removeBetween = function (start: Node, end: Node) {\n    let node = end.previousSibling;\n    while (node !== start) {\n        node?.parentNode?.removeChild(node);\n        node = end.previousSibling;\n    }\n};\n", "\nexport default function display (data: any): string {\n    switch (`${data}`) {\n        case 'NaN': return '';\n        case 'null': return '';\n        case 'undefined': return '';\n    }\n    switch (typeof data) {\n        case 'string': return data;\n        case 'number': return `${data}`;\n        case 'bigint': return `${data}`;\n        case 'boolean': return `${data}`;\n        case 'function': return `${data()}`;\n        case 'symbol': return String(data);\n        case 'object': return JSON.stringify(data);\n    }\n    throw new Error('XElement - display type not handled');\n}\n", "\nexport default () => Math.floor(Math.random() * Date.now());", "\nexport const replaceChildren = function (element: Element | Document | DocumentFragment, ...nodes: (Node | string)[]): void {\n\n    while (element.lastChild) {\n        element.removeChild(element.lastChild);\n\n    }\n\n    if (nodes?.length) {\n        for (const node of nodes) {\n            element.appendChild(\n                typeof node === 'string' ?\n                    (element.ownerDocument as Document).createTextNode(node) :\n                    node\n            );\n        }\n    }\n\n};\n\nconst policy =\n    'trustedTypes' in window ?\n        (window as any).trustedTypes.createPolicy('x-element', { createHTML: (data: any) => data }) :\n        undefined;\n\nexport const createHTML = function (data: string) {\n    if (policy) {\n        return policy.createHTML(data);\n    } else {\n        return data;\n    }\n};\n\nexport const hasOwn = function (object: any, key: any) {\n    return Object.prototype.hasOwnProperty.call(object, key);\n};", "import mark from './mark';\nimport { createHTML } from './poly';\nimport { Expressions, HTML } from './types';\n// import parse from './parse';\n\nexport const symbol = Symbol('html');\nconst cache: WeakMap<TemplateStringsArray, [ HTMLTemplateElement, string ]> = new WeakMap();\n\nexport default function html (strings: TemplateStringsArray, ...expressions: Expressions): HTML {\n    const value = cache.get(strings);\n    if (value) {\n        const [ template, marker ] = value;\n\n        return { strings, template, expressions, symbol, marker };\n    } else {\n        const marker = `x-${mark()}-x`;\n        // const marker = `X-${mark()}-X`;\n\n        let data = '';\n\n        const length = strings.length - 1;\n\n        for (let index = 0; index < length; index++) {\n            data += `${strings[ index ]}${marker}`;\n        }\n\n        data += strings[ length ];\n\n        const template = document.createElement('template');\n        template.innerHTML = createHTML(data);\n\n        cache.set(strings, [ template, marker ]);\n\n        return { strings, template, expressions, symbol, marker };\n    }\n}\n", "import { hasOn, isMarker, isValue, sliceOn, isLink, isBool, hasMarker, dangerousLink, removeBetween } from './tools';\nimport display from './display';\nimport { symbol } from './html';\nimport { Actions } from './types';\n\n// const TEXT_NODE = Node.TEXT_NODE;\n// const ELEMENT_NODE = Node.ELEMENT_NODE;\n// const FILTER = NodeFilter.SHOW_ELEMENT + NodeFilter.SHOW_TEXT;\n\nconst FILTER = 1 + 4;\nconst TEXT_NODE = 3;\nconst ELEMENT_NODE = 1;\n\nconst ElementAction = function (\n    this: { start: Text, end: Text, actions: Actions, },\n    source: any,\n    target: any\n): void {\n\n    if (target?.symbol === symbol) {\n\n        source = source ?? {};\n        target = target ?? {};\n\n        if (source.strings === target.strings) {\n\n            const l = this.actions.length;\n            for (let i = 0; i < l; i++) {\n                this.actions[ i ](source.expressions[ i ], target.expressions[ i ]);\n            }\n\n        } else {\n            this.actions.length = 0;\n\n            // const fragment = document.importNode(target.template.content, true);\n            const fragment = target.template.content.cloneNode(true);\n\n            Render(fragment, this.actions, target.marker);\n\n            const l = this.actions.length;\n            for (let i = 0; i < l; i++) {\n                this.actions[ i ](source.expressions?.[ i ], target.expressions[ i ]);\n            }\n\n            document.adoptNode(fragment);\n\n            removeBetween(this.start, this.end);\n            this.end.parentNode?.insertBefore(fragment, this.end);\n        }\n\n    } else if (target?.constructor === Array) {\n\n        source = source ?? [];\n        target = target ?? [];\n\n        const oldLength = source.length;\n        const newLength = target.length;\n        const common = Math.min(oldLength, newLength);\n\n        for (let i = 0; i < common; i++) {\n            this.actions[ i ](source[ i ], target[ i ]);\n        }\n\n        if (oldLength < newLength) {\n            const template = document.createElement('template');\n\n            for (let i = oldLength; i < newLength; i++) {\n\n                const startChild = document.createTextNode('');\n                const endChild = document.createTextNode('');\n                const action = ElementAction.bind({\n                    start: startChild,\n                    end: endChild,\n                    actions: []\n                });\n\n                template.content.appendChild(startChild);\n                template.content.appendChild(endChild);\n\n                this.actions.push(action);\n                action(source[ i ], target[ i ]);\n            }\n\n            this.end.parentNode?.insertBefore(template.content, this.end);\n        } else if (oldLength > newLength) {\n\n            for (let i = oldLength - 1; i > newLength - 1; i--) {\n                if (source[ i ]?.symbol === symbol) {\n                    const { template } = source[ i ];\n                    let removes = template.content.childNodes.length + 2;\n                    while (removes--) this.end.parentNode?.removeChild(this.end.previousSibling as Node);\n                } else {\n                    this.end.parentNode?.removeChild(this.end.previousSibling as Node);\n                    this.end.parentNode?.removeChild(this.end.previousSibling as Node);\n                    this.end.parentNode?.removeChild(this.end.previousSibling as Node);\n                }\n            }\n\n            this.actions.length = newLength;\n        }\n\n    } else {\n        if (source === target) {\n            return;\n        } else if (this.end.previousSibling === this.start) {\n            this.end.parentNode?.insertBefore(document.createTextNode(display(target)), this.end);\n        } else if (\n            this.end.previousSibling?.nodeType === TEXT_NODE &&\n            this.end.previousSibling?.previousSibling === this.start\n        ) {\n            this.end.previousSibling.textContent = display(target);\n        } else {\n            removeBetween(this.start, this.end);\n            this.end.parentNode?.insertBefore(document.createTextNode(display(target)), this.end);\n        }\n    }\n\n};\n\nconst AttributeNameAction = function (\n    this: { element: Element, name: string, value: any, },\n    source: any,\n    target: any\n): void {\n    if (source === target) {\n        return;\n    } else if (isValue(source)) {\n        this.element.removeAttribute(source);\n        Reflect.set(this.element, source, null);\n    } else if (hasOn(source)) {\n        if (typeof this.value === 'function') {\n            this.element.removeEventListener(sliceOn(source), this.value, true);\n        }\n    } else if (isLink(source)) {\n        this.element.removeAttribute(source);\n    } else if (isBool(source)) {\n        this.element.removeAttribute(source);\n    } else if (source) {\n        this.element.removeAttribute(source);\n        Reflect.deleteProperty(this.element, source);\n    }\n\n    this.name = target?.toLowerCase() || '';\n\n    if (isBool(this.name)) {\n        this.element.setAttribute(this.name, '');\n        Reflect.set(this.element, this.name, true);\n    }\n\n};\n\nconst AttributeValueAction = function (\n    this: { element: Element, name: string, value: any, },\n    source: any,\n    target: any\n): void {\n    if (source === target) {\n        return;\n    } else if (isValue(this.name)) {\n\n        this.value = display(target);\n        if (!this.name) return;\n        this.element.setAttribute(this.name, this.value);\n        Reflect.set(this.element, this.name, this.value);\n\n    } else if (hasOn(this.name)) {\n\n        if (!this.name) return;\n\n        if (typeof this.value === 'function') {\n            this.element.removeEventListener(sliceOn(this.name), this.value, true);\n        }\n\n        if (typeof target !== 'function') {\n            return console.warn(`XElement - attribute name \"${this.name}\" and value \"${this.value}\" not allowed`);\n        }\n\n        this.value = function () { return target.call(this, ...arguments); };\n        this.element.addEventListener(sliceOn(this.name), this.value, true);\n\n    } else if (isLink(this.name)) {\n\n        this.value = encodeURI(target);\n        if (!this.name) return;\n\n        if (dangerousLink(this.value)) {\n            this.element.removeAttribute(this.name);\n            console.warn(`XElement - attribute name \"${this.name}\" and value \"${this.value}\" not allowed`);\n            return;\n        }\n\n        this.element.setAttribute(this.name, this.value);\n    } else {\n        this.value = target;\n        if (!this.name) return;\n        this.element.setAttribute(this.name, this.value);\n        Reflect.set(this.element, this.name, this.value);\n    }\n};\n\nconst TagAction = function (\n    this: { element: Element, holder: Text, },\n    source: any,\n    target: any\n): void {\n    if (source === target) return;\n\n    const oldElement = this.element;\n\n    if (target) {\n        oldElement.parentNode?.removeChild(oldElement);\n\n        const newElement = document.createElement(target) as Element;\n\n        while (oldElement.firstChild) newElement.appendChild(oldElement.firstChild);\n\n        if (oldElement.nodeType === ELEMENT_NODE) {\n            const attributeNames = (oldElement as Element).getAttributeNames();\n            for (const attributeName of attributeNames) {\n                const attributeValue = (oldElement as Element).getAttribute(attributeName) ?? '';\n                newElement.setAttribute(attributeName, attributeValue);\n            }\n        }\n\n        this.holder.parentNode?.insertBefore(newElement, this.holder);\n        this.element = newElement;\n    } else {\n        oldElement.parentNode?.removeChild(oldElement);\n        this.element = oldElement;\n    }\n\n};\n\nexport const Render = function (fragment: DocumentFragment, actions: Actions, marker: string) {\n    const holders = new WeakSet();\n    const walker = document.createTreeWalker(fragment, FILTER, null);\n\n    walker.currentNode = fragment;\n\n    let node: Node | null = fragment.firstChild;\n\n    while (node = walker.nextNode()) {\n\n        if (holders.has(node.previousSibling as Node)) {\n            holders.delete(node.previousSibling as Node);\n            actions.push(() => undefined);\n        }\n\n        if (node.nodeType === TEXT_NODE) {\n\n            const startIndex = node.nodeValue?.indexOf(marker) ?? -1;\n            if (startIndex === -1) continue;\n\n            if (startIndex !== 0) {\n                (node as Text).splitText(startIndex);\n                node = walker.nextNode() as Node;\n            }\n\n            const endIndex = marker.length;\n            if (endIndex !== node.nodeValue?.length) {\n                (node as Text).splitText(endIndex);\n            }\n\n            const start = document.createTextNode('');\n            const end = node as Text;\n\n            end.textContent = '';\n            end.parentNode?.insertBefore(start, end);\n\n            actions.push(ElementAction.bind({ marker, start, end, actions: [], }));\n        } else if (node.nodeType === ELEMENT_NODE) {\n\n            if (node.nodeName === 'SCRIPT' || node.nodeName === 'STYLE') {\n                walker.nextSibling();\n            }\n\n            const tMeta: any = {\n                element: node as Element,\n            };\n\n            if (isMarker(node.nodeName, marker)) {\n                holders.add(node);\n                tMeta.holder = document.createTextNode('');\n                node.parentNode?.insertBefore(tMeta.holder, node);\n                actions.push(TagAction.bind(tMeta));\n            }\n\n            const names = (node as Element).getAttributeNames();\n            for (const name of names) {\n                const value = (node as Element).getAttribute(name) ?? '';\n\n                if (hasMarker(name, marker) || hasMarker(value, marker)) {\n\n                    const aMeta = {\n                        name,\n                        value,\n                        previous: undefined,\n                        get element () {\n                            return tMeta.element;\n                        },\n                    };\n\n                    if (hasMarker(name, marker)) {\n                        (node as Element).removeAttribute(name);\n                        actions.push(AttributeNameAction.bind(aMeta));\n                    }\n\n                    if (hasMarker(value, marker)) {\n                        (node as Element).removeAttribute(name);\n                        actions.push(AttributeValueAction.bind(aMeta));\n                    }\n\n                } else {\n                    if (isLink(name)) {\n                        if (dangerousLink(value)) {\n                            (node as Element).removeAttribute(name);\n                            console.warn(`XElement - attribute name \"${name}\" and value \"${value}\" not allowed`);\n                        }\n                    } else if (hasOn(name)) {\n                        (node as Element).removeAttribute(name);\n                        console.warn(`XElement - attribute name \"${name}\" not allowed`);\n                    }\n                }\n            }\n        } else {\n            console.warn(`XElement - node type \"${node.nodeType}\" not handled`);\n        }\n    }\n};\n\nexport default Render;\n", "type ContextValue = any;\ntype ContextTarget = any;\ntype ContextReceiver = any;\ntype ContextMethod = () => void;\ntype ContextKey = symbol | string;\ntype ContextData = Record<string, any>;\n\n// const ContextApply = function (target: ContextTarget, receiver: ContextReceiver, args: any[]) {\n//     return Reflect.apply(target, receiver, args);\n// };\n\nconst ContextSet = function (method: ContextMethod, target: ContextTarget, key: ContextKey, value: ContextValue, receiver: ContextReceiver) {\n    if (typeof key === 'symbol') return Reflect.set(target, key, value, receiver);\n\n    const from = Reflect.get(target, key, receiver);\n\n    if (from === value) return true;\n    if (Number.isNaN(from) && Number.isNaN(value)) return true;\n\n    Reflect.set(target, key, value, receiver);\n\n    method();\n\n    return true;\n};\n\nconst ContextGet = function (method: ContextMethod, target: ContextTarget, key: ContextKey, receiver: ContextReceiver): ContextValue {\n    if (typeof key === 'symbol') return Reflect.get(target, key, receiver);\n\n    const value = Reflect.get(target, key, receiver);\n\n    if (value) {\n        if (value.constructor === Function) {\n            // if (typeof value == 'function') {\n            return new Proxy(value, {\n                apply (t, _, a) {\n                    return Reflect.apply(t, receiver, a);\n                }\n            });\n        }\n\n        if (value.constructor === Object || value.constructor === Array) {\n            // if (typeof value == 'object') {\n            return new Proxy(value, {\n                get: ContextGet.bind(null, method),\n                set: ContextSet.bind(null, method),\n                deleteProperty: ContextDelete.bind(null, method),\n            });\n        }\n    }\n\n    return value;\n};\n\nconst ContextDelete = function (method: ContextMethod, target: ContextTarget, key: ContextKey) {\n    if (typeof key === 'symbol') return Reflect.deleteProperty(target, key);\n\n    Reflect.deleteProperty(target, key);\n\n    method();\n\n    return true;\n};\n\nconst Context = function (data: ContextData, method: ContextMethod): Record<any, any> {\n    return new Proxy(data, {\n        get: ContextGet.bind(null, method),\n        set: ContextSet.bind(null, method),\n        deleteProperty: ContextDelete.bind(null, method),\n    });\n};\n\nexport default Context;\n", "\nexport default function dash (data: string): string {\n    data = data.replace(/([a-zA-Z])([A-Z])/g, '$1-$2');\n    data = data.toLowerCase();\n    data = data.includes('-') ? data : `x-${data}`;\n    return data;\n}\n", "\nexport const adoptedEvent = new Event('adopted');\nexport const adoptingEvent = new Event('adopting');\n\nexport const upgradedEvent = new Event('upgraded');\nexport const upgradingEvent = new Event('upgrading');\n\nexport const creatingEvent = new Event('creating');\nexport const createdEvent = new Event('created');\n\nexport const renderingEvent = new Event('rendering');\nexport const renderedEvent = new Event('rendered');\n\nexport const connectedEvent = new Event('connected');\nexport const connectingEvent = new Event('connecting');\n\nexport const attributedEvent = new Event('attributed');\nexport const attributingEvent = new Event('attributing');\n\nexport const disconnectedEvent = new Event('disconnected');\nexport const disconnectingEvent = new Event('disconnecting');\n", "import render from './render';\nimport context from './context';\nimport html from './html';\nimport dash from './dash';\n\nimport {\n    HTML,\n    Actions,\n    Expressions,\n} from './types';\n\nimport {\n    createdEvent,\n    creatingEvent,\n\n    renderedEvent,\n    renderingEvent,\n\n    adoptedEvent,\n    adoptingEvent,\n\n    connectedEvent,\n    connectingEvent,\n\n    attributedEvent,\n    attributingEvent,\n\n    disconnectedEvent,\n    disconnectingEvent,\n} from './events';\n\nconst task = Symbol('Task');\nconst update = Symbol('Update');\nconst create = Symbol('Create');\n\nconst tick = () => Promise.resolve();\n\nexport default class Component extends HTMLElement {\n\n    static html = html;\n\n    /**\n     * Defines the custom element and return the constructor.\n     */\n    static define (tag: string = this.tag ?? this.name) {\n        tag = dash(tag);\n        if (customElements.get(tag) !== this) customElements.define(tag, this);\n        return this;\n    }\n\n    /**\n     * Define, Create, Upgrade, and return element.\n     */\n    static create<T extends Component> (this: typeof Component & (new () => T), tag?: string): T {\n        tag = dash(this.tag ?? this.name);\n        if (customElements.get(tag) !== this) customElements.define(tag, this);\n        const instance = document.createElement(tag) as T;\n        if (customElements.upgrade) customElements.upgrade(instance);\n        return instance;\n    }\n\n    /**\n     * Define, Create, Upgrade, waits until first render, and return element.\n     */\n    static async upgrade<T extends Component> (this: typeof Component & (new () => T), tag?: string): Promise<T> {\n        tag = dash(this.tag ?? this.name);\n        if (customElements.get(tag) !== this) customElements.define(tag, this);\n        const instance = document.createElement(tag) as T;\n        await instance[ create ]();\n        if (customElements.upgrade) customElements.upgrade(instance);\n        return instance;\n    }\n\n    /**\n     * Configuration to define a element Tag name for use by the define() and create() method.\n     * Default value will use the function.constructor.name.\n     */\n    protected static tag?: string;\n\n    /**\n     * Configuration to use shadow root.\n     * Default is false.\n     */\n    protected static shadow?: boolean;\n\n    /**\n     * Configuration of the shadow mode attachment.\n     * Default is open.\n     */\n    protected static mode?: 'open' | 'closed';\n\n    /**\n     * Alternative configuration optimization that allows the specific definition of reactive properties on the Element.\n     * Default will use getOwnPropertyNames on the Instance and Prototype to redfine properties as reactive.\n     */\n    protected static observedProperties?: Array<string>;\n\n    /**\n     * Invoked when triggered from reactive properties.\n     * @category rendering\n     */\n    protected render?(context: Record<any, any>): HTML | Promise<HTML>;\n\n    /**\n     * Called one time when an element is created. Lifecycle: Created -> Connected -> Rendered.\n     * @category lifecycle\n     */\n    protected created?(context: Record<any, any>): void | Promise<void>;\n\n    /**\n     * Called every time the element is Connected to a document. Lifecycle: Connected -> Rendered.\n     * @category lifecycle\n     */\n    protected connected?(context: Record<any, any>): void | Promise<void>;\n\n    /**\n     * Called every time the element is needs to render. Lifecycle: Rendered.\n     * @category lifecycle\n     */\n    protected rendered?(context: Record<any, any>): void | Promise<void>;\n\n    /**\n     * Called every time the element disconnected from a document.\n     * @category lifecycle\n     */\n    protected disconnected?(context: Record<any, any>): void | Promise<void>;\n\n    /**\n     * Called every time the element adopted into a new document.\n     * @category lifecycle\n     */\n    protected adopted?(context: Record<any, any>): void | Promise<void>;\n\n    /**\n     * Called every an observed attribute changes.\n     */\n    protected attribute?(name: string, from: string, to: string): void | Promise<void>;\n\n    #context: Record<any, any> = {};\n    #root: Element | ShadowRoot;\n\n    #marker: string = '';\n    #actions: Actions = [];\n    #expressions: Expressions = [];\n\n    #queued: boolean = false;\n    #started: boolean = false;\n    #restart: boolean = false;\n    #created: boolean = false;\n    [ task ]: Promise<void> = Promise.resolve();\n\n    constructor () {\n        super();\n\n        const constructor = this.constructor as typeof Component;\n        const shadow = constructor.shadow;\n        if (shadow && !this.shadowRoot) {\n            const mode = constructor.mode || 'open';\n            this.attachShadow({ mode });\n        }\n\n        this.#root = this.shadowRoot ?? this;\n    }\n\n    protected async attributeChangedCallback (name: string, oldValue: string, newValue: string) {\n        this.dispatchEvent(attributingEvent);\n        await this.attribute?.(name, oldValue, newValue)?.catch(console.error);\n        this.dispatchEvent(attributedEvent);\n    }\n\n    protected async adoptedCallback () {\n        this.dispatchEvent(adoptingEvent);\n        await this.adopted?.(this.#context)?.catch(console.error);\n        this.dispatchEvent(adoptedEvent);\n    }\n\n    protected async connectedCallback () {\n        if (!this.#created) {\n            await this[ create ]();\n        } else {\n            this.dispatchEvent(connectingEvent);\n            await this.connected?.(this.#context)?.catch(console.error);\n            this.dispatchEvent(connectedEvent);\n        }\n    }\n\n    protected async disconnectedCallback () {\n        this.dispatchEvent(disconnectingEvent);\n        await this.disconnected?.(this.#context)?.catch(console.error);\n        this.dispatchEvent(disconnectedEvent);\n    }\n\n    protected async [ create ] () {\n        this.#created = true;\n        this.#queued = true;\n        this.#started = true;\n\n        const constructor = this.constructor as typeof Component;\n        const observedProperties = constructor.observedProperties;\n        const prototype = Object.getPrototypeOf(this);\n        const properties = observedProperties ?\n            observedProperties ?? [] :\n            [ ...Object.getOwnPropertyNames(this),\n            ...Object.getOwnPropertyNames(prototype) ];\n\n        for (const property of properties) {\n\n            if (\n                'attributeChangedCallback' === property ||\n                'disconnectedCallback' === property ||\n                'connectedCallback' === property ||\n                'adoptedCallback' === property ||\n                'constructor' === property ||\n                'disconnected' === property ||\n                'attribute' === property ||\n                'connected' === property ||\n                'rendered' === property ||\n                'created' === property ||\n                'adopted' === property ||\n                'render' === property ||\n                'setup' === property\n            ) continue;\n\n            const descriptor = Object.getOwnPropertyDescriptor(this, property) ?? Object.getOwnPropertyDescriptor(prototype, property);\n\n            if (!descriptor) continue;\n            if (!descriptor.configurable) continue;\n\n            if (typeof descriptor.value === 'function') descriptor.value = descriptor.value.bind(this);\n            if (typeof descriptor.get === 'function') descriptor.get = descriptor.get.bind(this);\n            if (typeof descriptor.set === 'function') descriptor.set = descriptor.set.bind(this);\n\n            Object.defineProperty(this.#context, property, descriptor);\n\n            Object.defineProperty(this, property, {\n                configurable: false,\n                enumerable: descriptor.enumerable,\n                // configurable: descriptor.configurable,\n                get () {\n                    return (this.#context as Record<any, any>)[ property ];\n                },\n                set (value) {\n                    (this.#context as Record<any, any>)[ property ] = value;\n                    this[ update ]();\n                }\n            });\n\n        }\n\n        this.#context = context(this.#context, this[ update ].bind(this));\n\n        // this.dispatchEvent(renderingEvent);\n\n        const template = await this.render?.(this.#context);\n        if (template) {\n\n            // const fragment = document.importNode(template.template.content, true);\n            const fragment = template.template.content.cloneNode(true) as DocumentFragment;\n\n            this.#marker = template.marker;\n            this.#expressions = template.expressions;\n\n            render(fragment, this.#actions, this.#marker);\n\n            for (let index = 0; index < this.#actions.length; index++) {\n                const newExpression = template.expressions[ index ];\n                try {\n                    this.#actions[ index ](undefined, newExpression);\n                } catch (error) {\n                    console.error(error);\n                }\n            }\n\n            document.adoptNode(fragment);\n\n            this.#root.appendChild(fragment);\n        }\n\n        this.dispatchEvent(creatingEvent);\n        await this.created?.(this.#context);\n        this.dispatchEvent(createdEvent);\n\n        this.dispatchEvent(connectingEvent);\n        await this.connected?.(this.#context)?.catch(console.error);\n        this.dispatchEvent(connectedEvent);\n\n        this.#queued = false;\n        this.#started = false;\n        this.#restart = false;\n        await this[ update ]();\n    }\n\n    protected async [ update ] () {\n        if (this.#queued && !this.#started) {\n            // console.debug('Update: queued and not started');\n            return this[ task ];\n        }\n\n        if (this.#queued && this.#started) {\n            // console.debug('Update: queued and started');\n            this.#restart = true;\n            return this[ task ];\n        }\n\n        this.#queued = true;\n\n        this[ task ] = this[ task ].then(async () => {\n            // console.debug('Update: in progress');\n            // await tick();\n\n            this.dispatchEvent(renderingEvent);\n            const template = await this.render?.(this.#context);\n\n            this.#started = true;\n\n            if (template) {\n                for (let index = 0; index < this.#actions.length; index++) {\n\n                    if (this.#restart) {\n                        // console.debug('Update: restart');\n                        await tick();\n                        index = -1;\n                        this.#restart = false;\n                        continue;\n                    }\n\n                    const newExpression = template.expressions[ index ];\n                    const oldExpression = this.#expressions[ index ];\n\n                    try {\n                        this.#actions[ index ](oldExpression, newExpression);\n                    } catch (error) {\n                        console.error(error);\n                    }\n\n                    this.#expressions[ index ] = template.expressions[ index ];\n                }\n\n            }\n\n            this.#queued = false;\n            this.#started = false;\n\n            await this.rendered?.(this.#context);\n            this.dispatchEvent(renderedEvent);\n\n        }).catch(console.error);\n\n        return this[ task ];\n    }\n\n}\n", "\nexport default function define (name: string, constructor: CustomElementConstructor) {\n    if (customElements.get(name) !== constructor) {\n        customElements.define(name, constructor);\n    }\n}", "import { Route, Handler, Module } from './types';\nimport { replaceChildren } from './poly';\nimport component from './component';\nimport define from './define';\nimport dash from './dash';\n\nconst alls: Array<Route> = [];\nconst routes: Array<Route> = [];\n\nconst transition = async function (route: Route) {\n    if (route.instance) {\n        replaceChildren(route.root, route.instance);\n    } else {\n        const result = await route.handler();\n        if ((result as CustomElementConstructor)?.prototype instanceof HTMLElement) {\n            route.construct = result as CustomElementConstructor;\n        } else if (((result as Module)?.default as CustomElementConstructor)?.prototype instanceof HTMLElement) {\n            route.construct = (result as Module).default as CustomElementConstructor;\n        } else {\n            throw new Error('XElement - router handler requires a CustomElementConstructor');\n        }\n\n        if (route.construct.prototype instanceof component) {\n            route.instance = await (route.construct as typeof component).upgrade();\n        } else {\n            route.tag = dash(route.construct.name);\n            define(route.tag, route.construct);\n            route.instance = document.createElement(route.tag);\n        }\n\n        replaceChildren(route.root, route.instance);\n    }\n};\n\nconst navigate = function (event?: any) {\n    if (event && 'canIntercept' in event && event.canIntercept === false) return;\n    if (event && 'canTransition' in event && event.canTransition === false) return;\n\n    const destination = new URL(event?.destination.url ?? location.href);\n    const base = new URL(document.querySelector('base')?.href ?? location.origin);\n\n    base.hash = '';\n    base.search = '';\n    destination.hash = '';\n    destination.search = '';\n\n    const pathname = destination.href.replace(base.href, '/');\n    const transitions: Array<Route> = [];\n\n    for (const route of routes) {\n        if (route.path !== pathname) continue;\n        transitions.push(route);\n    }\n\n    for (const all of alls) {\n        let has = false;\n\n        for (const transition of transitions) {\n            if (transition.root === all.root) {\n                has = true;\n                break;\n            }\n        }\n\n        if (has) continue;\n\n        transitions.push(all);\n    }\n\n    if (event?.intercept) {\n        return event.intercept({ handler: () => transitions.map((route) => transition(route)) });\n    } else if (event?.transitionWhile) {\n        return event.transitionWhile(transitions.map((route) => transition(route)));\n    } else {\n        transitions.map((route) => transition(route));\n    }\n};\n\nconst router = function (path: string, root: Element, handler: Handler) {\n    if (!path) throw new Error('XElement - router path required');\n    if (!handler) throw new Error('XElement - router handler required');\n    if (!root) throw new Error('XElement - router root required');\n\n    if (path === '/*') {\n        for (const all of alls) {\n            if (all.path === path && all.root === root) {\n                throw new Error('XElement - router duplicate path on root');\n            }\n        }\n\n        alls.push({ path, root, handler, });\n    } else {\n        for (const route of routes) {\n            if (route.path === path && route.root === root) {\n                throw new Error('XElement - router duplicate path on root');\n            }\n        }\n\n        routes.push({ path, root, handler, instance: undefined });\n    }\n\n    Reflect.get(window, 'navigation').addEventListener('navigate', navigate);\n};\n\nexport default router;\n", "import Component from './component';\nimport Router from './router';\nimport html from './html';\n\nexport { Component };\nexport { Component as component };\n\nexport { Router };\nexport { Router as router };\n\nexport { html };\n\nexport default {\n\n    Component,\n    component: Component,\n\n    Router,\n    router: Router,\n\n    html,\n\n};\n"],
  "mappings": "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",
  "names": ["links", "bools", "isLink", "data", "isBool", "patternValue", "isValue", "patternOn", "hasOn", "sliceOn", "_a", "isMarker", "marker", "hasMarker", "safePattern", "dangerousLink", "data", "removeBetween", "start", "end", "_a", "node", "display", "data", "mark_default", "replaceChildren", "element", "nodes", "node", "policy", "data", "createHTML", "symbol", "cache", "html", "strings", "expressions", "value", "template", "marker", "mark_default", "data", "length", "index", "createHTML", "FILTER", "TEXT_NODE", "ELEMENT_NODE", "ElementAction", "source", "target", "_a", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i", "_j", "_k", "_l", "symbol", "l", "i", "fragment", "Render", "removeBetween", "oldLength", "newLength", "common", "template", "startChild", "endChild", "action", "removes", "display", "AttributeNameAction", "isValue", "hasOn", "sliceOn", "isLink", "isBool", "AttributeValueAction", "dangerousLink", "TagAction", "oldElement", "newElement", "attributeNames", "attributeName", "attributeValue", "actions", "marker", "holders", "walker", "node", "startIndex", "endIndex", "start", "end", "tMeta", "isMarker", "names", "name", "value", "hasMarker", "aMeta", "render_default", "ContextSet", "method", "target", "key", "value", "receiver", "from", "ContextGet", "t", "_", "a", "ContextDelete", "Context", "data", "context_default", "dash", "data", "adoptedEvent", "adoptingEvent", "upgradedEvent", "upgradingEvent", "creatingEvent", "createdEvent", "renderingEvent", "renderedEvent", "connectedEvent", "connectingEvent", "attributedEvent", "attributingEvent", "disconnectedEvent", "disconnectingEvent", "task", "update", "create", "tick", "_context", "_root", "_marker", "_actions", "_expressions", "_queued", "_started", "_restart", "_created", "_b", "Component", "_a", "__privateAdd", "__publicField", "constructor", "mode", "__privateSet", "tag", "dash", "instance", "__async", "name", "oldValue", "newValue", "attributingEvent", "attributedEvent", "adoptingEvent", "__privateGet", "adoptedEvent", "connectingEvent", "connectedEvent", "disconnectingEvent", "disconnectedEvent", "_c", "_d", "_e", "observedProperties", "prototype", "properties", "property", "descriptor", "value", "context_default", "template", "fragment", "render_default", "index", "newExpression", "error", "creatingEvent", "createdEvent", "renderingEvent", "oldExpression", "renderedEvent", "html", "define", "name", "constructor", "alls", "routes", "transition", "route", "__async", "_a", "replaceChildren", "result", "Component", "dash", "define", "navigate", "event", "_b", "_c", "destination", "base", "pathname", "transitions", "all", "has", "router", "path", "root", "handler", "router_default", "source_default", "Component", "router_default", "html"]
}
