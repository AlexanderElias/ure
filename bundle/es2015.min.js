/**
 * @version 9.1.0
 *
 * @license
 * Copyright (C) Alexander Elias
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * @module
 */

var Te=Object.defineProperty;var Re=(e,n,t)=>n in e?Te(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var A=(e,n,t)=>(Re(e,typeof n!="symbol"?n+"":n,t),t),Q=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var u=(e,n,t)=>(Q(e,n,"read from private field"),t?t.call(e):n.get(e)),C=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},v=(e,n,t,o)=>(Q(e,n,"write to private field"),o?o.call(e,t):n.set(e,t),t);var w=(e,n,t)=>new Promise((o,s)=>{var i=c=>{try{d(t.next(c))}catch(m){s(m)}},l=c=>{try{d(t.throw(c))}catch(m){s(m)}},d=c=>c.done?o(c.value):Promise.resolve(c.value).then(i,l);d((t=t.apply(e,n)).next())});function L(e){switch(`${e}`){case"NaN":return"";case"null":return"";case"undefined":return""}switch(typeof e){case"string":return e;case"number":return`${e}`;case"bigint":return`${e}`;case"boolean":return`${e}`;case"function":return`${e()}`;case"symbol":return String(e);case"object":return JSON.stringify(e)}throw new Error("XElement - display type not handled")}var ee=()=>Math.floor(Math.random()*Date.now());var B=function(e,...n){for(;e.lastChild;)e.removeChild(e.lastChild);if(n!=null&&n.length)for(let t of n)e.appendChild(typeof t=="string"?e.ownerDocument.createTextNode(t):t)},I=function(e,n){return e.indexOf(n)!==-1},te="trustedTypes"in window?window.trustedTypes.createPolicy("x-element",{createHTML:e=>e}):void 0,ne=function(e){return te?te.createHTML(e):e};var $=Symbol("html"),oe=new WeakMap;function H(e,...n){let t=oe.get(e);if(t){let[o,s]=t;return{strings:e,template:o,expressions:n,symbol:$,marker:s}}else{let o=`X-${ee()}-X`,s="",i=e.length-1;for(let d=0;d<i;d++)s+=`${e[d]}${o}`;s+=e[i];let l=document.createElement("template");return l.innerHTML=ne(s),oe.set(e,[l,o]),{strings:e,template:l,expressions:n,symbol:$,marker:o}}}var Ae=1+4,ie=3,se=1,re=["src","href","data","action","srcdoc","xlink:href","cite","formaction","ping","poster","background","classid","codebase","longdesc","profile","usemap","icon","manifest","archive"],Me=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i,ce=function(e){return e===""||typeof e!="string"?!1:!Me.test(e)},Se=function(e,n){var o;let t=n.previousSibling;for(;t!==e;)(o=t==null?void 0:t.parentNode)==null||o.removeChild(t),t=n.previousSibling},ae=function(e,n){var t,o,s,i,l,d,c,m,b,N,r,h,p;if((n==null?void 0:n.symbol)===$)if(e=e!=null?e:{},n=n!=null?n:{},e.strings===n.strings){let a=this.actions.length;for(let f=0;f<a;f++)this.actions[f](e.expressions[f],n.expressions[f])}else{this.actions.length=0;let a=n.template.content.cloneNode(!0);le(a,this.actions,n.marker);let f=this.actions.length;for(let g=0;g<f;g++)this.actions[g]((t=e.expressions)==null?void 0:t[g],n.expressions[g]);document.adoptNode(a),Se(this.start,this.end),(o=this.end.parentNode)==null||o.insertBefore(a,this.end)}else if((n==null?void 0:n.constructor)===Array){e=e!=null?e:[],n=n!=null?n:[];let a=e.length,f=n.length,g=Math.min(a,f);for(let y=0;y<g;y++)this.actions[y](e[y],n[y]);if(a<f){let y=document.createElement("template");for(let P=a;P<f;P++){let V=document.createTextNode(""),J=document.createTextNode(""),Y=ae.bind({start:V,end:J,actions:[]});y.content.appendChild(V),y.content.appendChild(J),this.actions.push(Y),Y(e[P],n[P])}(s=this.end.parentNode)==null||s.insertBefore(y.content,this.end)}else if(a>f){for(let y=a-1;y>f-1;y--)if(((i=e[y])==null?void 0:i.symbol)===$){let{template:P}=e[y],V=P.content.childNodes.length+2;for(;V--;)(l=this.end.parentNode)==null||l.removeChild(this.end.previousSibling)}else(d=this.end.parentNode)==null||d.removeChild(this.end.previousSibling),(c=this.end.parentNode)==null||c.removeChild(this.end.previousSibling),(m=this.end.parentNode)==null||m.removeChild(this.end.previousSibling);this.actions.length=f}}else{if(e===n)return;if(typeof e!=typeof n)for(;this.end.previousSibling!==this.start;)(b=this.end.parentNode)==null||b.removeChild(this.end.previousSibling);let a;this.end.previousSibling===this.start?(a=document.createTextNode(L(n)),(N=this.end.parentNode)==null||N.insertBefore(a,this.end)):((r=this.end.previousSibling)==null?void 0:r.nodeType)===ie?(a=this.end.previousSibling,a.textContent=L(n)):(a=document.createTextNode(L(n)),(h=this.end.parentNode)==null||h.removeChild(this.end.previousSibling),(p=this.end.parentNode)==null||p.insertBefore(a,this.end))}},Pe=function(e,n){e!==n&&(e!=null&&e.startsWith("on")&&typeof this.value=="function"&&this.element.removeEventListener(e.slice(2),this.value),Reflect.set(this.element,e,void 0),this.element.removeAttribute(e),this.name=n==null?void 0:n.toLowerCase(),this.name&&(this.element.setAttribute(this.name,""),Reflect.set(this.element,this.name,!0)))},Le=function(e,n){if(e!==n)if(this.name==="value"){if(this.value=L(n),!this.name)return;Reflect.set(this.element,this.name,this.value),this.element.setAttribute(this.name,this.value)}else if(this.name.startsWith("on")){if(!this.name)return;if(typeof this.value=="function"&&this.element.removeEventListener(this.name.slice(2),this.value,!0),this.value=n,typeof this.value!="function")return console.warn(`XElement - attribute name "${this.name}" and value "${this.value}" not allowed`);this.element.addEventListener(this.name.slice(2),this.value,!0)}else if(I(re,this.name)){if(this.value=encodeURI(n),!this.name)return;if(ce(this.value)){this.element.removeAttribute(this.name),console.warn(`XElement - attribute name "${this.name}" and value "${this.value}" not allowed`);return}Reflect.set(this.element,this.name,this.value),this.element.setAttribute(this.name,this.value)}else{if(this.value=n,!this.name)return;Reflect.set(this.element,this.name,this.value),this.element.setAttribute(this.name,this.value)}},Oe=function(e,n){var o,s,i,l;if(e===n)return;let t=this.element;if(n){(o=t.parentNode)==null||o.removeChild(t);let d=document.createElement(n);for(;t.firstChild;)d.appendChild(t.firstChild);if(t.nodeType===se){let c=t.getAttributeNames();for(let m of c){let b=(s=t.getAttribute(m))!=null?s:"";d.setAttribute(m,b)}}(i=this.holder.parentNode)==null||i.insertBefore(d,this.holder),this.element=d}else(l=t.parentNode)==null||l.removeChild(t),this.element=t},le=function(e,n,t){var l,d,c,m,b,N;let o=new WeakSet,s=document.createTreeWalker(e,Ae,null);s.currentNode=e;let i=e.firstChild;for(;i=s.nextNode();)if(o.has(i.previousSibling)&&(o.delete(i.previousSibling),n.push(()=>{})),i.nodeType===ie){let r=(d=(l=i.nodeValue)==null?void 0:l.indexOf(t))!=null?d:-1;if(r===-1)continue;r!==0&&(i.splitText(r),i=s.nextNode());let h=t.length;h!==((c=i.nodeValue)==null?void 0:c.length)&&i.splitText(h);let p=document.createTextNode(""),a=i;a.textContent="",(m=a.parentNode)==null||m.insertBefore(p,a),n.push(ae.bind({marker:t,start:p,end:a,actions:[]}))}else if(i.nodeType===se){(i.nodeName==="SCRIPT"||i.nodeName==="STYLE")&&s.nextSibling();let r={element:i};i.nodeName===t&&(o.add(i),r.holder=document.createTextNode(""),(b=i.parentNode)==null||b.insertBefore(r.holder,i),n.push(Oe.bind(r)));let h=i.getAttributeNames();for(let p of h){let a=(N=i.getAttribute(p))!=null?N:"",f=p.toUpperCase().includes(t),g=a.includes(t);if(f||g){let y={name:p,value:a,previous:void 0,get element(){return r.element}};f&&(i.removeAttribute(p),n.push(Pe.bind(y))),g&&(i.removeAttribute(p),n.push(Le.bind(y)))}else I(re,p)?ce(a)&&(i.removeAttribute(p),console.warn(`XElement - attribute name "${p}" and value "${a}" not allowed`)):p.startsWith("on")&&(i.removeAttribute(p),console.warn(`XElement - attribute name "${p}" not allowed`))}}else console.warn(`XElement - node type "${i.nodeType}" not handled`)},de=le;var he=function(e,n,t,o,s){if(typeof t=="symbol")return Reflect.set(n,t,o,s);let i=Reflect.get(n,t,s);return i===o||Number.isNaN(i)&&Number.isNaN(o)||(Reflect.set(n,t,o,s),e()),!0},ue=function(e,n,t,o){if(typeof t=="symbol")return Reflect.get(n,t,o);let s=Reflect.get(n,t,o);if(s){if(s.constructor===Function)return new Proxy(s,{apply(i,l,d){return Reflect.apply(i,o,d)}});if(s.constructor===Object||s.constructor===Array)return new Proxy(s,{get:ue.bind(null,e),set:he.bind(null,e),deleteProperty:pe.bind(null,e)})}return s},pe=function(e,n,t){return typeof t=="symbol"?Reflect.deleteProperty(n,t):(Reflect.deleteProperty(n,t),e(),!0)},$e=function(e,n){return new Proxy(e,{get:ue.bind(null,n),set:he.bind(null,n),deleteProperty:pe.bind(null,n)})},me=$e;function M(e){return e=e.replace(/([a-zA-Z])([A-Z])/g,"$1-$2"),e=e.toLowerCase(),e=e.includes("-")?e:`x-${e}`,e}var fe=new Event("adopted"),ye=new Event("adopting"),Ge=new Event("upgraded"),Je=new Event("upgrading"),Ee=new Event("creating"),ve=new Event("created"),xe=new Event("rendering"),be=new Event("rendered"),q=new Event("connected"),U=new Event("connecting"),we=new Event("attributed"),ge=new Event("attributing"),Ce=new Event("disconnected"),Ne=new Event("disconnecting");var X=Symbol("Task"),W=Symbol("Update"),F=Symbol("Create"),E,k,D,T,O,R,S,j,He,x=class extends HTMLElement{constructor(){var s;super();C(this,E,{});C(this,k,void 0);C(this,D,"");C(this,T,[]);C(this,O,[]);C(this,R,!1);C(this,S,!1);C(this,j,!1);A(this,He,Promise.resolve());let t=this.constructor;if(t.shadow&&!this.shadowRoot){let i=t.mode||"open";this.attachShadow({mode:i})}v(this,k,(s=this.shadowRoot)!=null?s:this)}static define(t=(o=>(o=this.tag)!=null?o:this.name)()){return t=M(t),customElements.get(t)!==this&&customElements.define(t,this),this}static create(t=(o=>(o=this.tag)!=null?o:this.name)()){t=M(t),customElements.get(t)!==this&&customElements.define(t,this);let s=document.createElement(t);return customElements.upgrade(s),s}static upgrade(){return w(this,arguments,function*(t=(o=>(o=this.tag)!=null?o:this.name)()){t=M(t),customElements.get(t)!==this&&customElements.define(t,this);let s=document.createElement(t);return yield s[F](),customElements.upgrade(s),s})}attributeChangedCallback(t,o,s){return w(this,null,function*(){var i,l;this.dispatchEvent(ge),yield(l=(i=this.attribute)==null?void 0:i.call(this,t,o,s))==null?void 0:l.catch(console.error),this.dispatchEvent(we)})}adoptedCallback(){return w(this,null,function*(){var t,o;this.dispatchEvent(ye),yield(o=(t=this.adopted)==null?void 0:t.call(this,u(this,E)))==null?void 0:o.catch(console.error),this.dispatchEvent(fe)})}connectedCallback(){return w(this,null,function*(){var t,o;u(this,j)?(this.dispatchEvent(U),yield(o=(t=this.connected)==null?void 0:t.call(this,u(this,E)))==null?void 0:o.catch(console.error),this.dispatchEvent(q)):yield this[F]()})}disconnectedCallback(){return w(this,null,function*(){var t,o;this.dispatchEvent(Ne),yield(o=(t=this.disconnected)==null?void 0:t.call(this,u(this,E)))==null?void 0:o.catch(console.error),this.dispatchEvent(Ce)})}[(He=X,F)](){return w(this,null,function*(){var d,c,m,b,N;v(this,j,!0),v(this,R,!0);let o=this.constructor.observedProperties,s=Object.getPrototypeOf(this),i=o?o!=null?o:[]:[...Object.getOwnPropertyNames(this),...Object.getOwnPropertyNames(s)];for(let r of i){if(r==="attributeChangedCallback"||r==="disconnectedCallback"||r==="connectedCallback"||r==="adoptedCallback"||r==="constructor"||r==="disconnected"||r==="attribute"||r==="connected"||r==="rendered"||r==="created"||r==="adopted"||r==="render"||r==="setup")continue;let h=(d=Object.getOwnPropertyDescriptor(this,r))!=null?d:Object.getOwnPropertyDescriptor(s,r);h&&h.configurable&&(typeof h.value=="function"&&(h.value=h.value.bind(this)),typeof h.get=="function"&&(h.get=h.get.bind(this)),typeof h.set=="function"&&(h.set=h.set.bind(this)),Object.defineProperty(u(this,E),r,h),Object.defineProperty(this,r,{configurable:!1,enumerable:h.enumerable,get(){return u(this,E)[r]},set(p){u(this,E)[r]=p,this[W]()}}))}v(this,E,me(u(this,E),this[W].bind(this)));let l=yield(c=this.render)==null?void 0:c.call(this,u(this,E));if(l){let r=l.template.content.cloneNode(!0);v(this,D,l.marker),v(this,O,l.expressions),de(r,u(this,T),u(this,D));for(let h=0;h<u(this,T).length;h++){let p=l.expressions[h];try{u(this,T)[h](void 0,p)}catch(a){console.error(a)}}document.adoptNode(r),u(this,k).appendChild(r)}this.dispatchEvent(Ee),yield(m=this.created)==null?void 0:m.call(this,u(this,E)),this.dispatchEvent(ve),this.dispatchEvent(U),yield(N=(b=this.connected)==null?void 0:b.call(this,u(this,E)))==null?void 0:N.catch(console.error),this.dispatchEvent(q),v(this,R,!1),v(this,S,!1),yield this[W]()})}[W](){return w(this,null,function*(){return u(this,R)?(v(this,S,!0),this[X]):(v(this,R,!0),this[X]=this[X].then(()=>w(this,null,function*(){var o,s;this.dispatchEvent(xe);let t=yield(o=this.render)==null?void 0:o.call(this,u(this,E));if(t)for(let i=0;i<u(this,T).length;i++){if(u(this,S)){yield Promise.resolve().then().catch(console.error),i=-1,v(this,S,!1);continue}let l=t.expressions[i],d=u(this,O)[i];try{u(this,T)[i](d,l)}catch(c){console.error(c)}u(this,O)[i]=t.expressions[i]}v(this,R,!1),yield(s=this.rendered)==null?void 0:s.call(this,u(this,E)),this.dispatchEvent(be)})).catch(console.error),this[X])})}};E=new WeakMap,k=new WeakMap,D=new WeakMap,T=new WeakMap,O=new WeakMap,R=new WeakMap,S=new WeakMap,j=new WeakMap,A(x,"html",H),A(x,"tag"),A(x,"shadow"),A(x,"mode"),A(x,"observedProperties");function K(e,n){customElements.get(e)!==n&&customElements.define(e,n)}var z=[],Z=[],_=function(e){return w(this,null,function*(){var n;if(e.instance)B(e.root,e.instance);else{let t=yield e.handler();if((t==null?void 0:t.prototype)instanceof HTMLElement)e.construct=t;else if(((n=t==null?void 0:t.default)==null?void 0:n.prototype)instanceof HTMLElement)e.construct=t.default;else throw new Error("XElement - router handler requires a CustomElementConstructor");e.construct.prototype instanceof x?e.instance=yield e.construct.upgrade():(e.tag=M(e.construct.name),K(e.tag,e.construct),e.instance=document.createElement(e.tag)),B(e.root,e.instance)}})},Xe=function(e){var i,l,d;if(e&&"canIntercept"in e&&e.canIntercept===!1||e&&"canTransition"in e&&e.canTransition===!1)return;let n=new URL((i=e==null?void 0:e.destination.url)!=null?i:location.href),t=new URL((d=(l=document.querySelector("base"))==null?void 0:l.href)!=null?d:location.origin);t.hash="",t.search="",n.hash="",n.search="";let o=n.href.replace(t.href,"/"),s=[];for(let c of Z)c.path===o&&s.push(c);for(let c of z){let m=!1;for(let b of s)if(b.root===c.root){m=!0;break}m||s.push(c)}if(e!=null&&e.intercept)return e.intercept({handler:()=>s.map(c=>_(c))});if(e!=null&&e.transitionWhile)return e.transitionWhile(s.map(c=>_(c)));s.map(c=>_(c))},ke=function(e,n,t){if(!e)throw new Error("XElement - router path required");if(!t)throw new Error("XElement - router handler required");if(!n)throw new Error("XElement - router root required");if(e==="/*"){for(let o of z)if(o.path===e&&o.root===n)throw new Error("XElement - router duplicate path on root");z.push({path:e,root:n,handler:t})}else{for(let o of Z)if(o.path===e&&o.root===n)throw new Error("XElement - router duplicate path on root");Z.push({path:e,root:n,handler:t,instance:void 0})}Reflect.get(window,"navigation").addEventListener("navigate",Xe)},G=ke;var yt={Component:x,component:x,Router:G,router:G,html:H};export{x as Component,G as Router,x as component,yt as default,H as html,G as router};
//# sourceMappingURL=es2015.min.js.map
