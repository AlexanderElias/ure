/**
 * @version 9.1.10
 *
 * @license
 * Copyright (C) Alexander Elias
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * @module
 */

var ke=Object.defineProperty;var $e=(e,t,n)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>($e(e,typeof t!="symbol"?t+"":t,n),n),ae=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var h=(e,t,n)=>(ae(e,t,"read from private field"),n?n.call(e):t.get(e)),g=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},m=(e,t,n,o)=>(ae(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n);var b=(e,t,n)=>new Promise((o,s)=>{var i=a=>{try{d(n.next(a))}catch(f){s(f)}},l=a=>{try{d(n.throw(a))}catch(f){s(f)}},d=a=>a.done?o(a.value):Promise.resolve(a.value).then(i,l);d((n=n.apply(e,t)).next())});var He=["src","href","data","action","srcdoc","xlink:href","cite","formaction","ping","poster","background","classid","codebase","longdesc","profile","usemap","icon","manifest","archive"],De=["hidden","allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],W=function(e){return e&&typeof e=="string"?He.indexOf(e)!==-1:!1},_=function(e){return e&&typeof e=="string"?De.indexOf(e)!==-1:!1},Xe=/^value$/i,z=function(e){return e&&typeof e=="string"?Xe.test(e):!1},je=/^on/i,H=function(e){return e&&typeof e=="string"?je.test(e):!1},K=function(e){var t;return e&&typeof e=="string"?(t=e==null?void 0:e.toLowerCase())==null?void 0:t.slice(2):""},ce=function(e,t){return e&&typeof e=="string"?e.toLowerCase()===t.toLowerCase():!1},D=function(e,t){return e&&typeof e=="string"?e.toLowerCase().indexOf(t.toLowerCase())!==-1:!1};var Be=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i,Z=function(e){return e===""||typeof e!="string"?!1:!Be.test(e)},G=function(e,t){var o;let n=t.previousSibling;for(;n!==e;)(o=n==null?void 0:n.parentNode)==null||o.removeChild(n),n=t.previousSibling};function k(e){switch(`${e}`){case"NaN":return"";case"null":return"";case"undefined":return""}switch(typeof e){case"string":return e;case"number":return`${e}`;case"bigint":return`${e}`;case"boolean":return`${e}`;case"function":return`${e()}`;case"symbol":return String(e);case"object":return JSON.stringify(e)}throw new Error("XElement - display type not handled")}var le=()=>Math.floor(Math.random()*Date.now());var J=function(e,...t){for(;e.lastChild;)e.removeChild(e.lastChild);if(t!=null&&t.length)for(let n of t)e.appendChild(typeof n=="string"?e.ownerDocument.createTextNode(n):n)},de="trustedTypes"in window?window.trustedTypes.createPolicy("x-element",{createHTML:e=>e}):void 0,he=function(e){return de?de.createHTML(e):e};var X=Symbol("html"),ue=new WeakMap;function j(e,...t){let n=ue.get(e);if(n){let[o,s]=n;return{strings:e,template:o,expressions:t,symbol:X,marker:s}}else{let o=`x-${le()}-x`,s="",i=e.length-1;for(let d=0;d<i;d++)s+=`${e[d]}${o}`;s+=e[i];let l=document.createElement("template");return l.innerHTML=he(s),ue.set(e,[l,o]),{strings:e,template:l,expressions:t,symbol:X,marker:o}}}var Ve=1+4,pe=3,fe=1,me=function(e,t){var n,o,s,i,l,d,a,f,v,T,r,p;if((t==null?void 0:t.symbol)===X)if(e=e!=null?e:{},t=t!=null?t:{},e.strings===t.strings){let c=this.actions.length;for(let u=0;u<c;u++)this.actions[u](e.expressions[u],t.expressions[u])}else{this.actions.length=0;let c=t.template.content.cloneNode(!0);ye(c,this.actions,t.marker);let u=this.actions.length;for(let w=0;w<u;w++)this.actions[w]((n=e.expressions)==null?void 0:n[w],t.expressions[w]);document.adoptNode(c),G(this.start,this.end),(o=this.end.parentNode)==null||o.insertBefore(c,this.end)}else if((t==null?void 0:t.constructor)===Array){e=e!=null?e:[],t=t!=null?t:[];let c=e.length,u=t.length,w=Math.min(c,u);for(let x=0;x<w;x++)this.actions[x](e[x],t[x]);if(c<u){let x=document.createElement("template");for(let S=c;S<u;S++){let I=document.createTextNode(""),se=document.createTextNode(""),re=me.bind({start:I,end:se,actions:[]});x.content.appendChild(I),x.content.appendChild(se),this.actions.push(re),re(e[S],t[S])}(s=this.end.parentNode)==null||s.insertBefore(x.content,this.end)}else if(c>u){for(let x=c-1;x>u-1;x--)if(((i=e[x])==null?void 0:i.symbol)===X){let{template:S}=e[x],I=S.content.childNodes.length+2;for(;I--;)(l=this.end.parentNode)==null||l.removeChild(this.end.previousSibling)}else(d=this.end.parentNode)==null||d.removeChild(this.end.previousSibling),(a=this.end.parentNode)==null||a.removeChild(this.end.previousSibling),(f=this.end.parentNode)==null||f.removeChild(this.end.previousSibling);this.actions.length=u}}else{if(e===t)return;this.end.previousSibling===this.start?(v=this.end.parentNode)==null||v.insertBefore(document.createTextNode(k(t)),this.end):((T=this.end.previousSibling)==null?void 0:T.nodeType)===pe&&((r=this.end.previousSibling)==null?void 0:r.previousSibling)===this.start?this.end.previousSibling.textContent=k(t):(G(this.start,this.end),(p=this.end.parentNode)==null||p.insertBefore(document.createTextNode(k(t)),this.end))}},qe=function(e,t){if(e!==t)if(z(e)?(this.element.removeAttribute(e),Reflect.set(this.element,e,null)):H(e)?typeof this.value=="function"&&this.element.removeEventListener(K(e),this.value,!0):W(e)?this.element.removeAttribute(e):_(e)?(this.element.removeAttribute(e),Reflect.set(this.element,e,!1)):e&&(this.element.removeAttribute(e),Reflect.deleteProperty(this.element,e)),this.name=(t==null?void 0:t.toLowerCase())||"",this.name){if(H(this.name))return;_(this.name)?(this.element.setAttribute(this.name,""),Reflect.set(this.element,this.name,!0)):(this.element.setAttribute(this.name,""),Reflect.set(this.element,this.name,void 0))}else return},Fe=function(e,t){if(e!==t)if(z(this.name)){if(this.value=k(t),!this.name)return;this.element.setAttribute(this.name,this.value),Reflect.set(this.element,this.name,this.value)}else if(H(this.name)){if(!this.name)return;if(typeof this.value=="function"&&this.element.removeEventListener(K(this.name),this.value,!0),typeof t!="function")return console.warn(`XElement - attribute name "${this.name}" and value "${this.value}" not allowed`);this.value=function(){return t.call(this,...arguments)},this.element.addEventListener(K(this.name),this.value,!0)}else if(W(this.name)){if(this.value=encodeURI(t),!this.name)return;if(Z(this.value)){this.element.removeAttribute(this.name),console.warn(`XElement - attribute name "${this.name}" and value "${this.value}" not allowed`);return}this.element.setAttribute(this.name,this.value)}else{if(this.value=t,!this.name)return;this.element.setAttribute(this.name,this.value),Reflect.set(this.element,this.name,this.value)}},Ie=function(e,t){var o,s,i,l;if(e===t)return;let n=this.element;if(t){(o=n.parentNode)==null||o.removeChild(n);let d=document.createElement(t);for(;n.firstChild;)d.appendChild(n.firstChild);if(n.nodeType===fe){let a=n.getAttributeNames();for(let f of a){let v=(s=n.getAttribute(f))!=null?s:"";d.setAttribute(f,v)}}(i=this.holder.parentNode)==null||i.insertBefore(d,this.holder),this.element=d}else(l=n.parentNode)==null||l.removeChild(n),this.element=n},ye=function(e,t,n){var l,d,a,f,v,T;let o=new WeakSet,s=document.createTreeWalker(e,Ve,null);s.currentNode=e;let i=e.firstChild;for(;i=s.nextNode();)if(o.has(i.previousSibling)&&(o.delete(i.previousSibling),t.push(()=>{})),i.nodeType===pe){let r=(d=(l=i.nodeValue)==null?void 0:l.indexOf(n))!=null?d:-1;if(r===-1)continue;r!==0&&(i.splitText(r),i=s.nextNode());let p=n.length;p!==((a=i.nodeValue)==null?void 0:a.length)&&i.splitText(p);let c=document.createTextNode(""),u=i;u.textContent="",(f=u.parentNode)==null||f.insertBefore(c,u),t.push(me.bind({marker:n,start:c,end:u,actions:[]}))}else if(i.nodeType===fe){(i.nodeName==="SCRIPT"||i.nodeName==="STYLE")&&s.nextSibling();let r={element:i};ce(i.nodeName,n)&&(o.add(i),r.holder=document.createTextNode(""),(v=i.parentNode)==null||v.insertBefore(r.holder,i),t.push(Ie.bind(r)));let p=i.getAttributeNames();for(let c of p){let u=(T=i.getAttribute(c))!=null?T:"";if(D(c,n)||D(u,n)){let w={name:c,value:u,previous:void 0,get element(){return r.element}};D(c,n)&&(i.removeAttribute(c),t.push(qe.bind(w))),D(u,n)&&(i.removeAttribute(c),t.push(Fe.bind(w)))}else W(c)?Z(u)&&(i.removeAttribute(c),console.warn(`XElement - attribute name "${c}" and value "${u}" not allowed`)):H(c)&&(i.removeAttribute(c),console.warn(`XElement - attribute name "${c}" not allowed`))}}else console.warn(`XElement - node type "${i.nodeType}" not handled`)},xe=ye;var Ee=function(e,t,n,o,s){if(typeof n=="symbol")return Reflect.set(t,n,o,s);let i=Reflect.get(t,n,s);return i===o||Number.isNaN(i)&&Number.isNaN(o)||(Reflect.set(t,n,o,s),e()),!0},be=function(e,t,n,o){if(typeof n=="symbol")return Reflect.get(t,n,o);let s=Reflect.get(t,n,o);if(s){if(s.constructor===Function)return new Proxy(s,{apply(i,l,d){return Reflect.apply(i,o,d)}});if(s.constructor===Object||s.constructor===Array)return new Proxy(s,{get:be.bind(null,e),set:Ee.bind(null,e),deleteProperty:ve.bind(null,e)})}return s},ve=function(e,t,n){return typeof n=="symbol"?Reflect.deleteProperty(t,n):(Reflect.deleteProperty(t,n),e(),!0)},We=function(e,t){return new Proxy(e,{get:be.bind(null,t),set:Ee.bind(null,t),deleteProperty:ve.bind(null,t)})},we=We;function M(e){return e=e.replace(/([a-zA-Z])([A-Z])/g,"$1-$2"),e=e.toLowerCase(),e=e.includes("-")?e:`x-${e}`,e}var ge=new Event("adopted"),Ce=new Event("adopting"),lt=new Event("upgraded"),dt=new Event("upgrading"),Ne=new Event("creating"),Te=new Event("created"),Re=new Event("rendering"),Ae=new Event("rendered"),Y=new Event("connected"),Q=new Event("connecting"),Le=new Event("attributed"),Me=new Event("attributing"),Pe=new Event("disconnected"),Oe=new Event("disconnecting");function P(e,t){customElements.get(e)!==t&&customElements.define(e,t)}var B=e=>{customElements.upgrade&&customElements.upgrade(e)};var Ke=()=>Promise.resolve(),R=Symbol("Task"),U=Symbol("Update"),ee=Symbol("Create"),y,V,q,A,$,C,N,O,F,Ue,E=class extends HTMLElement{constructor(){var s;super();g(this,y,{});g(this,V,void 0);g(this,q,"");g(this,A,[]);g(this,$,[]);g(this,C,!1);g(this,N,!1);g(this,O,!1);g(this,F,!1);L(this,Ue,Promise.resolve());let n=this.constructor;if(n.shadow&&!this.shadowRoot){let i=n.mode||"open";this.attachShadow({mode:i})}m(this,V,(s=this.shadowRoot)!=null?s:this)}static define(n=(o=>(o=this.tag)!=null?o:this.name)()){return n=M(n),P(n,this),this}static create(n){var s;n=M((s=this.tag)!=null?s:this.name),P(n,this);let o=document.createElement(n);return B(o),o}static upgrade(n){return b(this,null,function*(){var s;n=M((s=this.tag)!=null?s:this.name),P(n,this);let o=document.createElement(n);return B(o),yield o[ee](),o})}attributeChangedCallback(n,o,s){return b(this,null,function*(){var i,l;this.dispatchEvent(Me),yield(l=(i=this.attribute)==null?void 0:i.call(this,n,o,s))==null?void 0:l.catch(console.error),this.dispatchEvent(Le)})}adoptedCallback(){return b(this,null,function*(){var n,o;this.dispatchEvent(Ce),yield(o=(n=this.adopted)==null?void 0:n.call(this,h(this,y)))==null?void 0:o.catch(console.error),this.dispatchEvent(ge)})}connectedCallback(){return b(this,null,function*(){var n,o;h(this,F)?(this.dispatchEvent(Q),yield(o=(n=this.connected)==null?void 0:n.call(this,h(this,y)))==null?void 0:o.catch(console.error),this.dispatchEvent(Y)):yield this[ee]()})}disconnectedCallback(){return b(this,null,function*(){var n,o;this.dispatchEvent(Oe),yield(o=(n=this.disconnected)==null?void 0:n.call(this,h(this,y)))==null?void 0:o.catch(console.error),this.dispatchEvent(Pe)})}[(Ue=R,ee)](){return b(this,null,function*(){var d,a,f,v,T;m(this,F,!0),m(this,C,!0),m(this,N,!0);let o=this.constructor.observedProperties,s=Object.getPrototypeOf(this),i=o?o!=null?o:[]:[...Object.getOwnPropertyNames(this),...Object.getOwnPropertyNames(s)];for(let r of i){if(r==="attributeChangedCallback"||r==="disconnectedCallback"||r==="connectedCallback"||r==="adoptedCallback"||r==="constructor"||r==="disconnected"||r==="attribute"||r==="connected"||r==="rendered"||r==="created"||r==="adopted"||r==="render"||r==="setup")continue;let p=(d=Object.getOwnPropertyDescriptor(this,r))!=null?d:Object.getOwnPropertyDescriptor(s,r);p&&p.configurable&&(typeof p.value=="function"&&(p.value=p.value.bind(this)),typeof p.get=="function"&&(p.get=p.get.bind(this)),typeof p.set=="function"&&(p.set=p.set.bind(this)),Object.defineProperty(h(this,y),r,p),Object.defineProperty(this,r,{configurable:!1,enumerable:p.enumerable,get(){return h(this,y)[r]},set(c){h(this,y)[r]=c,this[U]()}}))}m(this,y,we(h(this,y),this[U].bind(this)));let l=yield(a=this.render)==null?void 0:a.call(this,h(this,y));if(l){let r=l.template.content.cloneNode(!0);m(this,q,l.marker),m(this,$,l.expressions),xe(r,h(this,A),h(this,q));for(let p=0;p<h(this,A).length;p++){let c=l.expressions[p];try{h(this,A)[p](void 0,c)}catch(u){console.error(u)}}document.adoptNode(r),h(this,V).appendChild(r)}this.dispatchEvent(Ne),yield(f=this.created)==null?void 0:f.call(this,h(this,y)),this.dispatchEvent(Te),this.dispatchEvent(Q),yield(T=(v=this.connected)==null?void 0:v.call(this,h(this,y)))==null?void 0:T.catch(console.error),this.dispatchEvent(Y),m(this,C,!1),m(this,N,!1),m(this,O,!1),yield this[U]()})}[U](){return b(this,null,function*(){return h(this,C)&&!h(this,N)?this[R]:h(this,C)&&h(this,N)?(m(this,O,!0),this[R]):(m(this,C,!0),this[R]=this[R].then(()=>b(this,null,function*(){var o,s;this.dispatchEvent(Re);let n=yield(o=this.render)==null?void 0:o.call(this,h(this,y));if(m(this,N,!0),n)for(let i=0;i<h(this,A).length;i++){if(h(this,O)){yield Ke(),i=-1,m(this,O,!1);continue}let l=n.expressions[i],d=h(this,$)[i];try{h(this,A)[i](d,l)}catch(a){console.error(a)}h(this,$)[i]=n.expressions[i]}m(this,C,!1),m(this,N,!1),yield(s=this.rendered)==null?void 0:s.call(this,h(this,y)),this.dispatchEvent(Ae)})).catch(console.error),this[R])})}};y=new WeakMap,V=new WeakMap,q=new WeakMap,A=new WeakMap,$=new WeakMap,C=new WeakMap,N=new WeakMap,O=new WeakMap,F=new WeakMap,L(E,"html",j),L(E,"tag"),L(E,"shadow"),L(E,"mode"),L(E,"observedProperties");var ne=[],oe=[],Se=function(e){return new Promise(t=>b(this,null,function*(){e&&e instanceof E?(yield e[R],requestAnimationFrame(()=>t(void 0))):requestAnimationFrame(()=>t(void 0))}))},te=function(e){return b(this,null,function*(){var t;if(e.instance){let n=Se(e.instance);J(e.root,e.instance),yield n}else{let n=yield e.handler();if((n==null?void 0:n.prototype)instanceof HTMLElement)e.construct=n;else if(((t=n==null?void 0:n.default)==null?void 0:t.prototype)instanceof HTMLElement)e.construct=n.default;else throw new Error("XElement - router handler requires Module or CustomElementConstructor");e.construct.prototype instanceof E?e.instance=yield e.construct.create():(e.tag=M(e.construct.name),P(e.tag,e.construct),e.instance=document.createElement(e.tag),B(e.instance));let o=Se(e.instance);J(e.root,e.instance),yield o}})},_e=function(e){var i,l,d;if(e&&"canIntercept"in e&&e.canIntercept===!1||e&&"canTransition"in e&&e.canTransition===!1)return;let t=new URL((i=e==null?void 0:e.destination.url)!=null?i:location.href),n=new URL((d=(l=document.querySelector("base"))==null?void 0:l.href)!=null?d:location.origin);n.hash="",n.search="",t.hash="",t.search="";let o=t.href.replace(n.href,"/"),s=[];for(let a of oe)a.path===o&&s.push(a);for(let a of ne){let f=!1;for(let v of s)if(v.root===a.root){f=!0;break}f||s.push(a)}if(e!=null&&e.intercept)return e.intercept({handler:()=>b(this,null,function*(){yield Promise.all(s.map(a=>te(a)))})});if(e!=null&&e.transitionWhile)return e.transitionWhile(Promise.all(s.map(a=>te(a))));Promise.all(s.map(a=>te(a)))},ze=function(e,t,n){if(!e)throw new Error("XElement - router path required");if(!n)throw new Error("XElement - router handler required");if(!t)throw new Error("XElement - router root required");if(e==="/*"){for(let o of ne)if(o.path===e&&o.root===t)throw new Error("XElement - router duplicate path on root");ne.push({path:e,root:t,handler:n})}else{for(let o of oe)if(o.path===e&&o.root===t)throw new Error("XElement - router duplicate path on root");oe.push({path:e,root:t,handler:n,instance:void 0})}Reflect.get(window,"navigation").addEventListener("navigate",_e)},ie=ze;var kt={Component:E,component:E,Router:ie,router:ie,html:j};export{E as Component,ie as Router,E as component,kt as default,j as html,ie as router};
//# sourceMappingURL=es2015.min.js.map
